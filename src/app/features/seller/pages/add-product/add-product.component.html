
<div class="add-product-page p-4 bg-light rounded-3 shadow-sm">

  <!-- <div class="d-flex justify-content-between align-items-center mb-4">
    <button class="btn btn-outline-secondary">‚Üê Back to List</button>
    <div>
      <button class="btn btn-outline-primary me-2">Scan to Fill Form</button>
      <button class="btn btn-outline-secondary">Save to Draft</button>
    </div>
  </div> -->

  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="row g-4">
      <!-- Product Images -->
      <div class="col-md-4">
        <div class="card p-3">
          <h6 class="mb-3">Product Image</h6>
          <input type="file" #fileInput (change)="onAddImage($event)" hidden />
          <div *ngFor="let img of images; let i = index" class="position-relative mb-2">
            <img [src]="img.url" class="img-fluid rounded" style="max-height:200px; width:100%; object-fit:contain;">
            <button type="button" class="btn btn-sm btn-danger position-absolute top-0 end-0" (click)="removeImage(i)">Remove</button>
          </div>
          <button type="button" class="btn btn-outline-primary w-100 mt-2" (click)="addAnotherImage()">Add Another Image</button>
        </div>
      </div>

      <!-- General Information -->
      <div class="col-md-8">
        <div class="card p-3 mb-3">
          <h6 class="mb-3">General Information</h6>
          <div class="row g-3">

            <div class="col-md-6" *ngFor="let field of [
              {label:'Product Name', control:'name', type:'text'},
              {label:'Brand', control:'brand', type:'text'},
              {label:'Price Per Day', control:'pricePerDay', type:'number'},
              {label:'Price for Sale', control:'priceForSale', type:'number'},
            ]">
              <label class="form-label">{{field.label}}</label>
              <input [type]="field.type" class="form-control" [formControlName]="field.control">
              <div class="text-danger small" *ngIf="productForm.get(field.control)?.invalid && productForm.get(field.control)?.touched">
                Required / Invalid value
              </div>
            </div>

            <!-- Select Fields -->
            <div class="col-md-6">
              <label class="form-label">Product Type</label>
              <select class="form-select" formControlName="productType">
                <option value="">Select Type</option>
                <option *ngFor="let type of productTypes" [value]="type">{{type}}</option>
              </select>
            </div>

            <div class="col-md-6">
              <label class="form-label">Available Type</label>
              <select class="form-select" formControlName="availableType">
                <option value="Sell">Sell</option>
                <option value="Rent">Rent</option>
                <option value="Both">Both</option>
              </select>
            </div>
            <!-- Size Field -->
<div class="col-md-6">
  <label class="form-label">Size</label>
  <div class="input-group">
    <input type="text" class="form-control" placeholder="Type size (e.g. M, XL)" formControlName="size">
  </div>
</div>

<!-- Colour Field -->
<div class="col-md-6">
  <label class="form-label">Colour</label>
  <div class="input-group">
    <input type="text" class="form-control" placeholder="Type color (e.g. Red, Blue)" formControlName="color">
  </div>
</div>


            <!-- <div class="col-md-6">
              <label class="form-label">Size</label>
              <select class="form-select" formControlName="size">
                <option value="">Select Size</option>
                <option *ngFor="let size of sizes" [value]="size">{{size}}</option>
              </select>
            </div>

            <div class="col-md-6">
              <label class="form-label">Colour</label>
              <select class="form-select" formControlName="color">
                <option value="">Select Colour</option>
                <option *ngFor="let color of colors" [value]="color">{{color}}</option>
              </select>
            </div> -->

            <div class="col-md-6">
              <label class="form-label">Category</label>
              <select class="form-select" formControlName="category">
                <option value="">Select Category</option>
                <option *ngFor="let cat of categories" [value]="cat">{{cat}}</option>
              </select>
            </div>

            <div class="col-md-6">
              <label class="form-label">Subcategory</label>
              <select class="form-select" formControlName="subcategory">
                <option value="">Select Subcategory</option>
                <option *ngFor="let sub of subcategories" [value]="sub">{{sub}}</option>
              </select>
            </div>

            <div class="col-12">
              <label class="form-label">Description</label>
              <textarea class="form-control" formControlName="description" rows="3"></textarea>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Submit Button -->
    <div class="mt-4 text-end">
      <button type="submit" class="btn btn-primary" [disabled]="loading">
        <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
        Add Product
      </button>
    </div>
  </form>
</div>

