{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nfunction AddProductComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵdomElementStart(0, \"div\", 32);\n    i0.ɵɵdomElement(1, \"img\", 33);\n    i0.ɵɵdomElementStart(2, \"button\", 34);\n    i0.ɵɵdomListener(\"click\", function AddProductComponent_div_16_Template_button_click_2_listener() {\n      const i_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeImage(i_r2));\n    });\n    i0.ɵɵtext(3, \"Remove\");\n    i0.ɵɵdomElementEnd()();\n  }\n  if (rf & 2) {\n    const img_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵdomProperty(\"src\", img_r4.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AddProductComponent_option_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵdomElementStart(0, \"option\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵdomElementEnd();\n  }\n  if (rf & 2) {\n    const type_r5 = ctx.$implicit;\n    i0.ɵɵdomProperty(\"value\", type_r5);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(type_r5);\n  }\n}\nexport let AddProductComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class AddProductComponent {\n    constructor(fb) {\n      this.fb = fb;\n      this.images = [];\n      this.productTypes = ['Moisturizer', 'Sunscreen', 'Lotion', 'Serum'];\n      this.productForm = this.fb.group({\n        name: ['', Validators.required],\n        description: [''],\n        productType: ['', Validators.required],\n        brand: [''],\n        pricePerDay: ['', [Validators.required, Validators.min(0)]],\n        priceForSale: ['', [Validators.min(0)]],\n        discount: [''],\n        expirationDate: [''],\n        stock: ['', [Validators.required, Validators.min(0)]],\n        minStock: ['', [Validators.required, Validators.min(0)]],\n        size: [''],\n        color: [''],\n        available: [true],\n        categoryId: [''],\n        subcategoryId: [''],\n        images: this.fb.array([])\n      });\n    }\n    get imagesArray() {\n      return this.productForm.get('images');\n    }\n    onAddImage(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.images.push({\n            file,\n            url: reader.result\n          });\n          this.imagesArray.push(this.fb.control(file));\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n    removeImage(index) {\n      this.images.splice(index, 1);\n      this.imagesArray.removeAt(index);\n    }\n    onSubmit() {\n      if (this.productForm.valid) {\n        console.log(this.productForm.value);\n        alert('Product submitted successfully!');\n        this.productForm.reset();\n        this.images = [];\n        this.imagesArray.clear();\n      } else {\n        alert('Please fill all required fields.');\n      }\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function AddProductComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AddProductComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddProductComponent,\n      selectors: [[\"app-add-product\"]],\n      decls: 74,\n      vars: 3,\n      consts: [[1, \"add-product-page\", \"p-4\", \"bg-light\", \"rounded-3\", \"shadow-sm\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"btn\", \"btn-outline-secondary\"], [1, \"btn\", \"btn-outline-primary\", \"me-2\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"row\", \"g-4\"], [1, \"col-md-4\"], [1, \"card\", \"p-3\"], [1, \"mb-3\"], [\"type\", \"file\", 1, \"form-control\", \"mb-3\", 3, \"change\"], [\"class\", \"position-relative mb-2\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"w-100\", \"mt-2\", 3, \"click\"], [1, \"col-md-8\"], [1, \"card\", \"p-3\", \"mb-3\"], [1, \"row\", \"g-3\"], [1, \"col-md-6\"], [1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"name\", \"placeholder\", \"Enter product name\", 1, \"form-control\"], [\"formControlName\", \"productType\", 1, \"form-select\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"formControlName\", \"brand\", \"placeholder\", \"Enter brand name\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"pricePerDay\", \"placeholder\", \"$\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"priceForSale\", \"placeholder\", \"$\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"discount\", \"placeholder\", \"Optional\", 1, \"form-control\"], [\"type\", \"date\", \"formControlName\", \"expirationDate\", 1, \"form-control\"], [1, \"col-12\"], [\"formControlName\", \"description\", \"rows\", \"3\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"stock\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"minStock\", 1, \"form-control\"], [1, \"mt-4\", \"text-end\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"position-relative\", \"mb-2\"], [1, \"img-fluid\", \"rounded\", 2, \"max-height\", \"200px\", \"width\", \"100%\", \"object-fit\", \"contain\", 3, \"src\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-danger\", \"position-absolute\", \"top-0\", \"end-0\", 3, \"click\"], [3, \"value\"]],\n      template: function AddProductComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵdomElementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n          i0.ɵɵtext(3, \"\\u2190 Back to List\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(4, \"div\")(5, \"button\", 3);\n          i0.ɵɵtext(6, \"Scan to Fill Form\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(7, \"button\", 2);\n          i0.ɵɵtext(8, \"Save to Draft\");\n          i0.ɵɵdomElementEnd()()();\n          i0.ɵɵdomElementStart(9, \"form\", 4);\n          i0.ɵɵdomListener(\"ngSubmit\", function AddProductComponent_Template_form_ngSubmit_9_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵdomElementStart(10, \"div\", 5)(11, \"div\", 6)(12, \"div\", 7)(13, \"h6\", 8);\n          i0.ɵɵtext(14, \"Product Image\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(15, \"input\", 9);\n          i0.ɵɵdomListener(\"change\", function AddProductComponent_Template_input_change_15_listener($event) {\n            return ctx.onAddImage($event);\n          });\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomTemplate(16, AddProductComponent_div_16_Template, 4, 1, \"div\", 10);\n          i0.ɵɵdomElementStart(17, \"button\", 11);\n          i0.ɵɵdomListener(\"click\", function AddProductComponent_Template_button_click_17_listener() {\n            return ctx.fileInput.click();\n          });\n          i0.ɵɵtext(18, \"Add Another Image\");\n          i0.ɵɵdomElementEnd()()();\n          i0.ɵɵdomElementStart(19, \"div\", 12)(20, \"div\", 13)(21, \"h6\", 8);\n          i0.ɵɵtext(22, \"General Information\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(23, \"div\", 14)(24, \"div\", 15)(25, \"label\", 16);\n          i0.ɵɵtext(26, \"Product Name\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(27, \"input\", 17);\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(28, \"div\", 15)(29, \"label\", 16);\n          i0.ɵɵtext(30, \"Product Type\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(31, \"select\", 18)(32, \"option\", 19);\n          i0.ɵɵtext(33, \"Select Type\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomTemplate(34, AddProductComponent_option_34_Template, 2, 2, \"option\", 20);\n          i0.ɵɵdomElementEnd()();\n          i0.ɵɵdomElementStart(35, \"div\", 15)(36, \"label\", 16);\n          i0.ɵɵtext(37, \"Brand\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(38, \"input\", 21);\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(39, \"div\", 15)(40, \"label\", 16);\n          i0.ɵɵtext(41, \"Price Per Day\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(42, \"input\", 22);\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(43, \"div\", 15)(44, \"label\", 16);\n          i0.ɵɵtext(45, \"Price for Sale\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(46, \"input\", 23);\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(47, \"div\", 15)(48, \"label\", 16);\n          i0.ɵɵtext(49, \"Discount %\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(50, \"input\", 24);\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(51, \"div\", 15)(52, \"label\", 16);\n          i0.ɵɵtext(53, \"Expiration Date\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(54, \"input\", 25);\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(55, \"div\", 26)(56, \"label\", 16);\n          i0.ɵɵtext(57, \"Description\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(58, \"textarea\", 27);\n          i0.ɵɵdomElementEnd()()();\n          i0.ɵɵdomElementStart(59, \"div\", 7)(60, \"h6\", 8);\n          i0.ɵɵtext(61, \"Manage Stock\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(62, \"div\", 14)(63, \"div\", 15)(64, \"label\", 16);\n          i0.ɵɵtext(65, \"Stock\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(66, \"input\", 28);\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(67, \"div\", 15)(68, \"label\", 16);\n          i0.ɵɵtext(69, \"Minimum Stock\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(70, \"input\", 29);\n          i0.ɵɵdomElementEnd()()()()();\n          i0.ɵɵdomElementStart(71, \"div\", 30)(72, \"button\", 31);\n          i0.ɵɵtext(73, \"Add Product\");\n          i0.ɵɵdomElementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵdomProperty(\"formGroup\", ctx.productForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵdomProperty(\"ngForOf\", ctx.images);\n          i0.ɵɵadvance(18);\n          i0.ɵɵdomProperty(\"ngForOf\", ctx.productTypes);\n        }\n      },\n      styles: [\".add-product-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:12px;background-color:#fff;box-shadow:0 0 15px #0000000d}.add-product-page[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-radius:8px}.add-product-page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px;object-fit:cover}\"]\n    }));\n  }\n  _staticBlock();\n  return AddProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}