{"ast":null,"code":"import { ReactiveFormsModule, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../core/services/user-service\";\nimport * as i3 from \"@angular/router\";\nfunction RegisterComponent_div_9_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_9_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Name must be at least 3 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, RegisterComponent_div_9_small_1_Template, 2, 0, \"small\", 18)(2, RegisterComponent_div_9_small_2_Template, 2, 0, \"small\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.name.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.name.errors[\"minlength\"]);\n  }\n}\nfunction RegisterComponent_div_14_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_14_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Email is invalid\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, RegisterComponent_div_14_small_1_Template, 2, 0, \"small\", 18)(2, RegisterComponent_div_14_small_2_Template, 2, 0, \"small\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.email.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.email.errors[\"email\"]);\n  }\n}\nfunction RegisterComponent_div_19_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Phone number is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_19_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Enter valid 10-digit number\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, RegisterComponent_div_19_small_1_Template, 2, 0, \"small\", 18)(2, RegisterComponent_div_19_small_2_Template, 2, 0, \"small\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.phoneNumber.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.phoneNumber.errors[\"pattern\"]);\n  }\n}\nfunction RegisterComponent_div_26_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_26_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Minimum 6 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, RegisterComponent_div_26_small_1_Template, 2, 0, \"small\", 18)(2, RegisterComponent_div_26_small_2_Template, 2, 0, \"small\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.password.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.password.errors[\"minlength\"]);\n  }\n}\nfunction RegisterComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"small\");\n    i0.ɵɵtext(2, \"Passwords do not match\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class RegisterComponent {\n    constructor(fb, userService, router) {\n      this.fb = fb;\n      this.userService = userService;\n      this.router = router;\n      this.submitted = false;\n      this.showPassword = false;\n      this.registerForm = this.fb.group({\n        name: ['', [Validators.required, Validators.minLength(3)]],\n        email: ['', [Validators.required, Validators.email]],\n        phoneNumber: ['', [Validators.required, Validators.pattern(/^[6-9]\\d{9}$/)]],\n        password: ['', [Validators.required, Validators.minLength(6)]],\n        confirmPassword: ['', Validators.required],\n        address: [''],\n        locationId: [null, Validators.required],\n        roleId: [2, Validators.required],\n        // default roleId (e.g., user)\n        status: ['ACTIVE']\n      }, {\n        validators: this.passwordMatchValidator\n      });\n    }\n    // Password match validator\n    passwordMatchValidator(form) {\n      const password = form.get('password')?.value;\n      const confirm = form.get('confirmPassword')?.value;\n      return password === confirm ? null : {\n        mismatch: true\n      };\n    }\n    // Toggle password visibility\n    togglePassword() {\n      this.showPassword = !this.showPassword;\n    }\n    // Handle image selection\n    onFileChange(event) {\n      if (event.target.files && event.target.files.length > 0) {\n        this.selectedImage = event.target.files[0];\n      }\n    }\n    // Submit form\n    onSubmit() {\n      this.submitted = true;\n      if (this.registerForm.invalid) return;\n      const user = {\n        ...this.registerForm.value\n      };\n      delete user.confirmPassword; // Remove confirmPassword before sending\n      this.userService.signup(user, this.selectedImage).subscribe({\n        next: res => {\n          alert('Registration successful!');\n          this.router.navigate(['/login']);\n        },\n        error: err => {\n          console.error(err);\n          alert('Registration failed! Try again.');\n        }\n      });\n    }\n    get f() {\n      return this.registerForm.controls;\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function RegisterComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegisterComponent,\n      selectors: [[\"app-register\"]],\n      decls: 46,\n      vars: 9,\n      consts: [[1, \"register-container\"], [1, \"register-card\"], [\"enctype\", \"multipart/form-data\", 3, \"ngSubmit\", \"formGroup\"], [1, \"form-group\"], [\"type\", \"text\", \"formControlName\", \"name\", \"placeholder\", \"Enter your name\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Enter your email\"], [\"type\", \"text\", \"formControlName\", \"phoneNumber\", \"placeholder\", \"Enter your phone number\"], [1, \"form-group\", \"password-group\"], [\"formControlName\", \"password\", \"placeholder\", \"Enter password\", 3, \"type\"], [1, \"eye-icon\", 3, \"click\"], [\"formControlName\", \"confirmPassword\", \"placeholder\", \"Confirm password\", 3, \"type\"], [\"type\", \"text\", \"formControlName\", \"address\", \"placeholder\", \"Enter your address\"], [\"type\", \"file\", 3, \"change\"], [\"type\", \"submit\", 1, \"register-btn\"], [1, \"signin-text\"], [\"routerLink\", \"/login\"], [1, \"error\"], [4, \"ngIf\"]],\n      template: function RegisterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Register\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_4_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\");\n          i0.ɵɵtext(7, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"input\", 4);\n          i0.ɵɵtemplate(9, RegisterComponent_div_9_Template, 3, 2, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 3)(11, \"label\");\n          i0.ɵɵtext(12, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"input\", 6);\n          i0.ɵɵtemplate(14, RegisterComponent_div_14_Template, 3, 2, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\");\n          i0.ɵɵtext(17, \"Phone Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(18, \"input\", 7);\n          i0.ɵɵtemplate(19, RegisterComponent_div_19_Template, 3, 2, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"div\", 8)(21, \"label\");\n          i0.ɵɵtext(22, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(23, \"input\", 9);\n          i0.ɵɵelementStart(24, \"i\", 10);\n          i0.ɵɵlistener(\"click\", function RegisterComponent_Template_i_click_24_listener() {\n            return ctx.togglePassword();\n          });\n          i0.ɵɵtext(25);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(26, RegisterComponent_div_26_Template, 3, 2, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"div\", 3)(28, \"label\");\n          i0.ɵɵtext(29, \"Confirm Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(30, \"input\", 11);\n          i0.ɵɵtemplate(31, RegisterComponent_div_31_Template, 3, 0, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"div\", 3)(33, \"label\");\n          i0.ɵɵtext(34, \"Address\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(35, \"input\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"div\", 3)(37, \"label\");\n          i0.ɵɵtext(38, \"Profile Image\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"input\", 13);\n          i0.ɵɵlistener(\"change\", function RegisterComponent_Template_input_change_39_listener($event) {\n            return ctx.onFileChange($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(40, \"button\", 14);\n          i0.ɵɵtext(41, \"Register\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(42, \"p\", 15);\n          i0.ɵɵtext(43, \" Already have an account? \");\n          i0.ɵɵelementStart(44, \"a\", 16);\n          i0.ɵɵtext(45, \"Sign In here\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.name.errors);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.email.errors);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.phoneNumber.errors);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", ctx.showPassword ? \"\\uD83D\\uDC41\\uFE0F\" : \"\\uD83D\\uDE48\", \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f.password.errors);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.submitted && (ctx.registerForm.errors == null ? null : ctx.registerForm.errors.mismatch));\n        }\n      },\n      dependencies: [ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".register-container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:#f5f5f5;margin-top:200px}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:10px;width:400px;box-shadow:0 4px 15px #0003}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem;position:relative}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border-radius:5px;border:1px solid #ccc;font-size:1rem}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;margin-top:.25rem;font-size:.85rem}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-group[_ngcontent-%COMP%]{display:flex;align-items:center}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-group[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;right:10px;top:37px;cursor:pointer;font-size:1.2rem}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]{padding:.75rem;border:none;border-radius:5px;background-color:#007bff;color:#fff;font-size:1rem;cursor:pointer;transition:background .3s}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .signin-text[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .signin-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   .signin-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]{width:90%;padding:1rem}}\"]\n    }));\n  }\n  _staticBlock();\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}